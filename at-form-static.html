<link rel="import" href="../tangere/tangere.html">
<link rel="import" href="../at-theme/at-theme.html">
<link rel="import" href="../iron-label/iron-label.html">

<dom-module id="at-form-static">
  <template>
    <style include="at-form-common"></style>
    <style>
      :host {
        @apply --at-form-host;
      }

      :host * {
        box-sizing: border-box;
      }

      .ql-align-center {
        text-align: center;
      }
      .ql-align-justify {
        text-align: justify;
      }
      .ql-align-right {
        text-align: right;
      }

      .ql-indent-1:not(.ql-direction-rtl) {
        padding-left: 3em;
      }
      li.ql-indent-1:not(.ql-direction-rtl) {
        padding-left: 4.5em;
      }
      .ql-indent-1.ql-direction-rtl.ql-align-right {
        padding-right: 3em;
      }
      li.ql-indent-1.ql-direction-rtl.ql-align-right {
        padding-right: 4.5em;
      }

      .ql-indent-2:not(.ql-direction-rtl) {
        padding-left: 6em;
      }
      li.ql-indent-2:not(.ql-direction-rtl) {
        padding-left: 7.5em;
      }
      .ql-indent-2.ql-direction-rtl.ql-align-right {
        padding-right: 6em;
      }
      li.ql-indent-2.ql-direction-rtl.ql-align-right {
        padding-right: 7.5em;
      }
      .ql-indent-3:not(.ql-direction-rtl) {
        padding-left: 9em;
      }
      li.ql-indent-3:not(.ql-direction-rtl) {
        padding-left: 10.5em;
      }
      .ql-indent-3.ql-direction-rtl.ql-align-right {
        padding-right: 9em;
      }
      li.ql-indent-3.ql-direction-rtl.ql-align-right {
        padding-right: 10.5em;
      }
      .ql-indent-4:not(.ql-direction-rtl) {
        padding-left: 12em;
      }
      li.ql-indent-4:not(.ql-direction-rtl) {
        padding-left: 13.5em;
      }
      .ql-indent-4.ql-direction-rtl.ql-align-right {
        padding-right: 12em;
      }
      li.ql-indent-4.ql-direction-rtl.ql-align-right {
        padding-right: 13.5em;
      }
      .ql-indent-5:not(.ql-direction-rtl) {
        padding-left: 15em;
      }
      li.ql-indent-5:not(.ql-direction-rtl) {
        padding-left: 16.5em;
      }
      .ql-indent-5.ql-direction-rtl.ql-align-right {
        padding-right: 15em;
      }
      li.ql-indent-5.ql-direction-rtl.ql-align-right {
        padding-right: 16.5em;
      }
      .ql-indent-6:not(.ql-direction-rtl) {
        padding-left: 18em;
      }
      li.ql-indent-6:not(.ql-direction-rtl) {
        padding-left: 19.5em;
      }
      .ql-indent-6.ql-direction-rtl.ql-align-right {
        padding-right: 18em;
      }
      li.ql-indent-6.ql-direction-rtl.ql-align-right {
        padding-right: 19.5em;
      }
      .ql-indent-7:not(.ql-direction-rtl) {
        padding-left: 21em;
      }
      li.ql-indent-7:not(.ql-direction-rtl) {
        padding-left: 22.5em;
      }
      .ql-indent-7.ql-direction-rtl.ql-align-right {
        padding-right: 21em;
      }
      li.ql-indent-7.ql-direction-rtl.ql-align-right {
        padding-right: 22.5em;
      }
      .ql-indent-8:not(.ql-direction-rtl) {
        padding-left: 24em;
      }
      li.ql-indent-8:not(.ql-direction-rtl) {
        padding-left: 25.5em;
      }
      .ql-indent-8.ql-direction-rtl.ql-align-right {
        padding-right: 24em;
      }
      li.ql-indent-8.ql-direction-rtl.ql-align-right {
        padding-right: 25.5em;
      }
      .ql-indent-9:not(.ql-direction-rtl) {
        padding-left: 27em;
      }
      li.ql-indent-9:not(.ql-direction-rtl) {
        padding-left: 28.5em;
      }
      .ql-indent-9.ql-direction-rtl.ql-align-right {
        padding-right: 27em;
      }
      li.ql-indent-9.ql-direction-rtl.ql-align-right {
        padding-right: 28.5em;
      }
    </style>
    <div id="atContainer" class="at-container">
      <iron-label id="label">{{label}}</iron-label>
      <div id="contentContainer" class="at-content-container"></div>
    </div>
  </template>
  <script>
    'use strict';
    Polymer({
      is: 'at-form-static',
      properties: {
        /**
         * Element's label for element display purposes
         * @property label
         * @type String
         * @default ""
         */
        label: {
          type: String,
          value: '',
          title: 'Label'
        },

        /**
         * When true label is hidden
         * @property hideLabel
         * @type Boolean
         * @default false
         */
        hideLabel: {
          type: Boolean,
          value: false,
          observer: '_hideLabelChanged',
          title: 'Do not show the label'
        },

        /**
         * Hides the element. When hidden nothing is displayed for the element
         * @property hide
         * @type Boolean
         * @default false
         */
        hide: {
          type: Boolean,
          value: false,
          observer: '_hideChanged',
          title: 'Element is hidden'
        },

        /**
         * Elements value
         * @property value
         * @type String
         * @default ''
         */
        value: {
          type: String,
          value: '',
          title: 'Value'
        },
        
        html: {
          type: String,
          value: '',
          xtype: 'html',
        },

        rawHtml: {
          type: String,
          value: '',
          xtype: 'code',
          mode: "htmlmixed"
        },
      },

      $meta:[{
        title: 'Static HTML',
        type: 'string',
        xtype: 'at-form-static'
      }],

      observers: ['_propertiesChanged(value, html, rawHtml)'],

      ready: function () {

      },

      _hideLabelChanged: function (newValue, oldValue) {
        this.toggleClass('hidden', newValue, this.$.label);
      },

      _hideChanged: function (newValue, oldValue) {
        this.toggleClass('hidden', newValue, this.$.atContainer);
      },

      _propertiesChanged(newValue, oldValue) {
        var innerHtmlString = '';

        if(newValue.value != undefined) {
          innerHtmlString += newValue.value;
        }

        if(newValue.html != undefined) {
          innerHtmlString += newValue.html;
        }

        if(newValue.rawHtml != undefined) {
          innerHtmlString += newValue.rawHtml;
        }
        
        if(innerHtmlString != '') {
          Polymer.dom(this.$.atContainer).innerHTML = innerHtmlString;
        }
      }

    });
  </script>
</dom-module>
